{"ast":null,"code":"import { __awaiter, __decorate } from \"tslib\";\nimport { debounce } from 'utils-decorators';\nimport { CONFIG } from '../../consts/config';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../../services/info.service\";\nimport * as i2 from \"../../services/terrajs.service\";\nimport * as i3 from \"mdb-angular-ui-kit/modal\";\nimport * as i4 from \"ngx-google-analytics\";\nconst _c0 = [\"dropdownFarmFilter\"];\nconst _c1 = [\"dropdownSortBy\"];\nfunction VaultComponent_div_19_div_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 67);\n    i0.ɵɵelement(1, \"span\", 68);\n    i0.ɵɵelementEnd();\n  }\n}\nfunction VaultComponent_div_19_a_13_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r12 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"a\", 69);\n    i0.ɵɵlistener(\"click\", function VaultComponent_div_19_a_13_Template_a_click_0_listener() {\n      i0.ɵɵrestoreView(_r12);\n      const ctx_r11 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r11.openYourTVL());\n    });\n    i0.ɵɵelement(1, \"img\", 70);\n    i0.ɵɵelementEnd();\n  }\n}\nfunction VaultComponent_div_19_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 5)(1, \"div\", 6)(2, \"div\", 59)(3, \"div\", 60);\n    i0.ɵɵtemplate(4, VaultComponent_div_19_div_4_Template, 2, 0, \"div\", 61);\n    i0.ɵɵelementStart(5, \"div\", 62)(6, \"div\", 8);\n    i0.ɵɵtext(7, \" My Total Value \");\n    i0.ɵɵelement(8, \"i\", 63);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"h3\", 64);\n    i0.ɵɵelement(10, \"app-digit\", 10);\n    i0.ɵɵelementStart(11, \"span\", 65);\n    i0.ɵɵtext(12, \" USD\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(13, VaultComponent_div_19_a_13_Template, 2, 0, \"a\", 66);\n    i0.ɵɵelementEnd()()()()()();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngIf\", +ctx_r0.info.myTvl);\n    i0.ɵɵadvance(6);\n    i0.ɵɵproperty(\"value\", ctx_r0.info.myTvl);\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngIf\", !ctx_r0.loading && ctx_r0.terrajs.isConnected);\n  }\n}\nfunction VaultComponent_img_62_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"img\", 71);\n    i0.ɵɵpipe(1, \"url\");\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"src\", i0.ɵɵpipeBind2(1, 1, ctx_r2.activeFarm, \"icon\"), i0.ɵɵsanitizeUrl);\n  }\n}\nfunction VaultComponent_img_63_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"img\", 72);\n  }\n}\nfunction VaultComponent_li_72_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r15 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"li\")(1, \"a\", 48);\n    i0.ɵɵlistener(\"click\", function VaultComponent_li_72_Template_a_click_1_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r15);\n      const farm_r13 = restoredCtx.$implicit;\n      const ctx_r14 = i0.ɵɵnextContext();\n      ctx_r14.activeFarm = farm_r13;\n      return i0.ɵɵresetView(ctx_r14.refresh());\n    });\n    i0.ɵɵelement(2, \"img\", 73);\n    i0.ɵɵpipe(3, \"url\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const farm_r13 = ctx.$implicit;\n    const ctx_r4 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵclassProp(\"active\", ctx_r4.activeFarm === farm_r13);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"src\", i0.ɵɵpipeBind2(3, 4, farm_r13, \"icon\"), i0.ɵɵsanitizeUrl);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", farm_r13, \"\");\n  }\n}\nfunction VaultComponent_div_101_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 74);\n    i0.ɵɵelement(1, \"span\", 75);\n    i0.ɵɵtext(2, \"\\u00A0Loading... \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction VaultComponent_div_102_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 76)(1, \"div\", 77)(2, \"div\", 78)(3, \"span\", 79);\n    i0.ɵɵelement(4, \"i\", 80);\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd()()()();\n  }\n  if (rf & 2) {\n    const ctx_r7 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate2(\" \", ctx_r7.vaults.length, \" \", ctx_r7.vaults.length > 1 ? \"Vaults\" : \"Vault\", \"\");\n  }\n}\nconst _c2 = function (a0, a1, a2) {\n  return {\n    \"col-lg-4\": a0,\n    \"col-sm-6\": a1,\n    \"col-12\": a2\n  };\n};\nfunction VaultComponent_ng_container_104_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"div\", 81);\n    i0.ɵɵelement(2, \"app-asset-card\", 82);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const vault_r16 = ctx.$implicit;\n    const ctx_r8 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction3(3, _c2, ctx_r8.isGrid, ctx_r8.isGrid, !ctx_r8.isGrid));\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"isGrid\", ctx_r8.isGrid)(\"vault\", vault_r16);\n  }\n}\nexport class VaultComponent {\n  constructor(info, terrajs, modalService, $gaService) {\n    this.info = info;\n    this.terrajs = terrajs;\n    this.modalService = modalService;\n    this.$gaService = $gaService;\n    this.loading = true;\n    this.vaults = [];\n    this.showDepositedPoolOnly = false;\n    this.defaultSortBy = 'multiplier';\n    this.defaultActiveFarm = 'Active farms';\n    this.sortBy = this.defaultSortBy;\n    this.activeFarm = this.defaultActiveFarm;\n    this.UNIT = CONFIG.UNIT;\n    this.myTvl = 0;\n    this.BLACKLIST = new Set(['']);\n    this.vaultId = (_, item) => item.poolInfo.key;\n    this.onResize(null);\n  }\n  ngOnInit() {\n    return __awaiter(this, void 0, void 0, function* () {\n      this.farmInfoDropdownList = [...new Set(this.info.farmInfos.filter(farmInfo => !this.BLACKLIST.has(farmInfo.farm)).map(farmInfo => farmInfo.farm))];\n      this.showDepositedPoolOnly = localStorage.getItem('deposit') === 'true';\n      this.loading = true;\n      this.connected = this.terrajs.connected.subscribe(connected => __awaiter(this, void 0, void 0, function* () {\n        this.loading = true;\n        this.info.refreshSPECPool();\n        yield this.info.initializeVaultData(connected);\n        this.refresh(true);\n        this.loading = false;\n        this.height = yield this.terrajs.getHeight();\n        this.lastSortBy = undefined;\n      }));\n      this.onTransaction = this.terrajs.transactionComplete.subscribe(() => __awaiter(this, void 0, void 0, function* () {\n        const tasks = [];\n        tasks.push(this.info.refreshNativeTokens());\n        tasks.push(this.info.refreshRewardInfos());\n        yield Promise.all(tasks);\n        if (this.showDepositedPoolOnly) {\n          this.refresh();\n        }\n        yield this.info.updateMyTvl();\n      }));\n      this.heightChanged = this.terrajs.heightChanged.subscribe(i => __awaiter(this, void 0, void 0, function* () {\n        if (this.loading || !i || document.hidden) {\n          return;\n        }\n        if (i % 5 === 0) {\n          yield Promise.all([this.info.refreshSPECPool(), this.info.retrieveCachedStat(true)]);\n          if (this.terrajs.isConnected) {\n            yield this.info.refreshRewardInfos();\n            if (this.showDepositedPoolOnly) {\n              this.refresh();\n            }\n            yield this.info.updateMyTvl();\n          }\n        }\n      }));\n    });\n  }\n  setIsGrid(isGrid) {\n    if (isGrid) {\n      this.isGrid = true;\n      localStorage.setItem('isGrid', 'true');\n    } else {\n      this.isGrid = false;\n      localStorage.setItem('isGrid', 'false');\n    }\n  }\n  onResize(event) {\n    this.updateShouldBeGrid();\n    if (this.shouldBeGrid || localStorage.getItem('isGrid') !== 'false') {\n      this.isGrid = true;\n    } else {\n      this.isGrid = false;\n    }\n  }\n  updateShouldBeGrid() {\n    this.innerWidth = window.innerWidth;\n    if (+this.innerWidth <= 575) {\n      this.shouldBeGrid = true;\n    } else {\n      this.shouldBeGrid = false;\n    }\n  }\n  ngOnDestroy() {\n    this.connected.unsubscribe();\n    this.heightChanged.unsubscribe();\n    this.onTransaction.unsubscribe();\n  }\n  memoize(name) {\n    if (name === 'deposit') {\n      localStorage.setItem('deposit', `${this.showDepositedPoolOnly}`);\n    }\n  }\n  refresh(resetFilterOnEmpty) {\n    let vaults = this.activeFarm === 'Active farms' ? this.info.allVaults.filter(vault => {\n      var _a;\n      return !vault.disabled || this.terrajs.isConnected && +((_a = this.info.rewardInfos[vault.poolInfo.key]) === null || _a === void 0 ? void 0 : _a.bond_amount) > 10;\n    }) : this.activeFarm === 'Disabled farms' ? this.info.allVaults.filter(vault => vault.disabled) : this.info.allVaults.filter(vault => vault.poolInfo.farm === this.activeFarm && !vault.disabled);\n    if (this.lastSortBy !== this.sortBy || this.lastActiveFarm !== this.activeFarm || !this.search) {\n      switch (this.sortBy) {\n        case 'multiplier':\n          vaults.sort((a, b) => b.score - a.score);\n          break;\n        case 'apy':\n          vaults.sort((a, b) => {\n            var _a, _b;\n            return (((_a = b.pairStat) === null || _a === void 0 ? void 0 : _a.poolApy) || 0) - (((_b = a.pairStat) === null || _b === void 0 ? void 0 : _b.poolApy) || 0);\n          });\n          break;\n        case 'dpr':\n          vaults.sort((a, b) => {\n            var _a, _b;\n            return (((_a = b.pairStat) === null || _a === void 0 ? void 0 : _a.dpr) || 0) - (((_b = a.pairStat) === null || _b === void 0 ? void 0 : _b.dpr) || 0);\n          });\n          break;\n        case 'tvl':\n          vaults.sort((a, b) => {\n            var _a, _b;\n            return (+((_a = b.pairStat) === null || _a === void 0 ? void 0 : _a.tvl) || 0) - (+((_b = a.pairStat) === null || _b === void 0 ? void 0 : _b.tvl) || 0);\n          });\n          break;\n      }\n      this.lastSortBy = this.sortBy;\n      this.lastActiveFarm = this.activeFarm;\n    }\n    if (this.showDepositedPoolOnly) {\n      const oldVaults = vaults;\n      vaults = vaults.filter(it => {\n        var _a, _b;\n        return +((_b = (_a = this.info.rewardInfos) === null || _a === void 0 ? void 0 : _a[it.poolInfo.key]) === null || _b === void 0 ? void 0 : _b.bond_amount) >= 10;\n      });\n      if (vaults.length === 0 && resetFilterOnEmpty) {\n        this.showDepositedPoolOnly = false;\n        vaults = oldVaults;\n      }\n    }\n    if (this.search) {\n      vaults = vaults.filter(it => `${it.baseSymbol}${it.denomSymbol}`.toLowerCase().includes(this.search.replace(/-/g, '').toLowerCase()));\n    }\n    this.vaults = vaults;\n    this.dropdownFarmFilter.hide();\n    this.dropdownSortBy.hide();\n  }\n  openYourTVL() {\n    return __awaiter(this, void 0, void 0, function* () {\n      this.$gaService.event('CLICK_OPEN_YOUR_TVL');\n      const modal = yield import('./your-tvl/your-tvl.component');\n      const ref = this.modalService.open(modal.YourTvlComponent, {\n        ignoreBackdropClick: false\n      });\n      yield ref.onClose.toPromise();\n    });\n  }\n}\nVaultComponent.ɵfac = function VaultComponent_Factory(t) {\n  return new (t || VaultComponent)(i0.ɵɵdirectiveInject(i1.InfoService), i0.ɵɵdirectiveInject(i2.TerrajsService), i0.ɵɵdirectiveInject(i3.MdbModalService), i0.ɵɵdirectiveInject(i4.GoogleAnalyticsService));\n};\nVaultComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: VaultComponent,\n  selectors: [[\"app-vault\"]],\n  viewQuery: function VaultComponent_Query(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵviewQuery(_c0, 5);\n      i0.ɵɵviewQuery(_c1, 5);\n    }\n    if (rf & 2) {\n      let _t;\n      i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.dropdownFarmFilter = _t.first);\n      i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.dropdownSortBy = _t.first);\n    }\n  },\n  hostBindings: function VaultComponent_HostBindings(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵlistener(\"resize\", function VaultComponent_resize_HostBindingHandler($event) {\n        return ctx.onResize($event);\n      }, false, i0.ɵɵresolveWindow);\n    }\n  },\n  decls: 105,\n  vars: 31,\n  consts: [[1, \"container\", \"vault-container\", \"py-5\"], [1, \"row\"], [1, \"col-12\", \"col-md-8\"], [1, \"sub-topic\"], [1, \"row\", \"g-1\", \"pt-3\"], [1, \"col-12\", \"col-md-6\"], [1, \"card\", \"card-grey\", \"box-left\"], [1, \"card-body\", \"ps-3\", \"pe-3\"], [1, \"card-text\", \"sub-topic\"], [1, \"card-title\"], [3, \"value\"], [1, \"cur-title\"], [\"mdbTooltip\", \"Total value of provided liquidity and staked SPEC\", 1, \"fas\", \"fa-info-circle\", \"info-icon\", \"margin-left-auto\", \"float-end\", \"md-icon\", \"mg-10\"], [\"class\", \"col-12 col-md-6\", 4, \"ngIf\"], [1, \"col-12\"], [1, \"terra-container\", \"mt-2\", \"mb-2\"], [1, \"col-12\", \"col-md-5\"], [1, \"card\", \"box-left\"], [1, \"card-body\", \"card-grey\", \"d-none\", \"d-sm-block\", \"border-6\"], [1, \"d-flex\", \"justify-content-between\"], [1, \"d-none\", \"d-sm-block\"], [2, \"cursor\", \"pointer\", 3, \"click\"], [\"width\", \"32\", \"height\", \"32\", 3, \"src\"], [1, \"align-sub\", \"sub-topic\", \"text-dropdown\"], [1, \"switch\"], [\"id\", \"showDepositedPoolOnly\", \"type\", \"checkbox\", 3, \"ngModel\", \"change\", \"ngModelChange\"], [1, \"slider\"], [1, \"card-body\", \"card-grey\", \"d-block\", \"d-sm-none\", \"border-6\"], [1, \"d-flex\", \"justify-content-end\"], [1, \"align-sub\"], [\"id\", \"showDepositedPoolOnlyMobile\", \"type\", \"checkbox\", 3, \"ngModel\", \"change\", \"ngModelChange\"], [1, \"col-8\", \"col-sm-8\", \"col-md-3\"], [1, \"card-body\", \"card-grey\", \"border-6\"], [1, \"d-flex\"], [1, \"form-group\", \"has-search\"], [1, \"fa\", \"fa-search\", \"form-control-feedback\", \"mg-3\"], [\"aria-describedby\", \"search-addon\", \"aria-label\", \"Search\", \"placeholder\", \"Search vaults\", \"type\", \"text\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [1, \"col-2\", \"col-sm-2\", \"col-md-2\"], [1, \"card-body\", \"card-grey\", \"p-0\", \"border-6\", \"school-options-dropdown\", \"text-center\"], [\"mdbDropdown\", \"\", 1, \"dropdown\", \"w-100\", \"btn-group\"], [\"dropdownFarmFilter\", \"\"], [\"aria-expanded\", \"false\", \"mdbDropdownToggle\", \"\", \"type\", \"button\", 1, \"btn\", \"p-0\"], [\"class\", \"mobile-icon\", \"height\", \"24\", \"width\", \"24\", 3, \"src\", 4, \"ngIf\"], [\"class\", \"mobile-icon\", \"height\", \"24\", \"src\", \"../../../assets/Icon_Farms.svg\", \"width\", \"24\", 4, \"ngIf\"], [1, \"text-dropdown\", \"d-none\", \"d-md-inline\", \"ps-2\", \"sub-topic\"], [1, \"text-end\", \"filter\"], [\"height\", \"12\", \"src\", \"../../../assets/chevron-down.svg\", \"width\", \"12\", 1, \"ms-3\"], [\"mdbDropdownMenu\", \"\", 1, \"dropdown-menu\"], [1, \"dropdown-item\", 3, \"click\"], [4, \"ngFor\", \"ngForOf\"], [1, \"fas\", \"fa-ban\", \"text-white\", \"farm-logo\"], [1, \"card-body\", \"p-0\", \"border-6\", \"school-options-dropdown\", \"text-center\"], [\"dropdownSortBy\", \"\"], [\"height\", \"24\", \"src\", \"../../../assets/Icon_SortBy.svg\", \"width\", \"24\", 1, \"mobile-icon\"], [1, \"text-dropdown\", \"d-none\", \"d-sm-none\", \"d-md-inline\", \"sub-topic\"], [\"class\", \"d-flex align-items-center justify-content-center pt-3\", 4, \"ngIf\"], [\"class\", \"d-flex justify-content-between pt-3\", 4, \"ngIf\"], [1, \"row\", \"pt-2\", \"g-3\"], [4, \"ngFor\", \"ngForOf\", \"ngForTrackBy\"], [1, \"card-body\", \"ps-3\"], [1, \"d-flex\", \"align-items-center\"], [\"class\", \"flex-shrink-0 me-3 tvl-chevron-up\", 4, \"ngIf\"], [1, \"flex-grow-1\"], [\"mdbTooltip\", \"Your provided liquidity, staked rewards, and staked SPEC\", 1, \"fas\", \"fa-info-circle\", \"info-icon\", \"super\"], [1, \"card-title\", \"text-primary\"], [1, \"cur-title\", \"text-white\"], [\"class\", \"margin-left-auto text-light small\", \"role\", \"button\", 3, \"click\", 4, \"ngIf\"], [1, \"flex-shrink-0\", \"me-3\", \"tvl-chevron-up\"], [1, \"fas\", \"fa-chevron-up\", \"animate-up\", \"text-success\"], [\"role\", \"button\", 1, \"margin-left-auto\", \"text-light\", \"small\", 3, \"click\"], [\"alt\", \"Portfolio allocation\", \"width\", \"32\", \"height\", \"32\", \"src\", \"../../../assets/Icon_PieChart.svg\", \"title\", \"Portfolio allocation\", 1, \"float-end\", \"mg-18\"], [\"height\", \"24\", \"width\", \"24\", 1, \"mobile-icon\", 3, \"src\"], [\"height\", \"24\", \"src\", \"../../../assets/Icon_Farms.svg\", \"width\", \"24\", 1, \"mobile-icon\"], [1, \"farm-logo\", 3, \"src\"], [1, \"d-flex\", \"align-items-center\", \"justify-content-center\", \"pt-3\"], [\"aria-hidden\", \"true\", \"role\", \"status\", 1, \"spinner-grow\", \"spinner-grow-sm\"], [1, \"d-flex\", \"justify-content-between\", \"pt-3\"], [1, \"d-flex\", \"justify-content-start\", \"align-items-end\"], [1, \"d-none\", \"d-md-flex\"], [1, \"fw-bold\", \"text-light\"], [1, \"fas\", \"fa-hashtag\"], [3, \"ngClass\"], [3, \"isGrid\", \"vault\"]],\n  template: function VaultComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"main\")(1, \"div\", 0)(2, \"div\", 1)(3, \"div\", 2)(4, \"h4\");\n      i0.ɵɵtext(5, \"Spectrum 2.0 Vaults\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(6, \"span\", 3);\n      i0.ɵɵtext(7, \"Provide liquidity here. Spectrum will compound rewards for you.\");\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(8, \"div\", 4)(9, \"div\", 5)(10, \"div\", 6)(11, \"div\", 7)(12, \"p\", 8);\n      i0.ɵɵtext(13, \" Total Value Locked \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(14, \"h3\", 9);\n      i0.ɵɵelement(15, \"app-digit\", 10);\n      i0.ɵɵelementStart(16, \"span\", 11);\n      i0.ɵɵtext(17, \" USD\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(18, \"i\", 12);\n      i0.ɵɵelementEnd()()()();\n      i0.ɵɵtemplate(19, VaultComponent_div_19_Template, 14, 3, \"div\", 13);\n      i0.ɵɵelementStart(20, \"div\", 14)(21, \"div\", 15)(22, \"span\");\n      i0.ɵɵtext(23, \" Welcome to Spectrum 2.0! SPEC token on Terra 2.0 will be available at later date. \");\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(24, \"div\", 16)(25, \"div\", 17)(26, \"div\", 18)(27, \"div\", 19)(28, \"div\")(29, \"div\", 20)(30, \"a\", 21);\n      i0.ɵɵlistener(\"click\", function VaultComponent_Template_a_click_30_listener() {\n        return ctx.setIsGrid(true);\n      });\n      i0.ɵɵelement(31, \"img\", 22);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(32, \"a\", 21);\n      i0.ɵɵlistener(\"click\", function VaultComponent_Template_a_click_32_listener() {\n        return ctx.setIsGrid(false);\n      });\n      i0.ɵɵelement(33, \"img\", 22);\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(34, \"div\")(35, \"span\", 23);\n      i0.ɵɵtext(36, \"Deposited only\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(37, \"label\", 24)(38, \"input\", 25);\n      i0.ɵɵlistener(\"change\", function VaultComponent_Template_input_change_38_listener() {\n        ctx.refresh();\n        return ctx.memoize(\"deposit\");\n      })(\"ngModelChange\", function VaultComponent_Template_input_ngModelChange_38_listener($event) {\n        return ctx.showDepositedPoolOnly = $event;\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(39, \"span\", 26);\n      i0.ɵɵelementEnd()()()();\n      i0.ɵɵelementStart(40, \"div\", 27)(41, \"div\", 28)(42, \"div\")(43, \"span\", 29);\n      i0.ɵɵtext(44, \"Deposited only\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(45, \"label\", 24)(46, \"input\", 30);\n      i0.ɵɵlistener(\"change\", function VaultComponent_Template_input_change_46_listener() {\n        ctx.refresh();\n        return ctx.memoize(\"deposit\");\n      })(\"ngModelChange\", function VaultComponent_Template_input_ngModelChange_46_listener($event) {\n        return ctx.showDepositedPoolOnly = $event;\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(47, \"span\", 26);\n      i0.ɵɵelementEnd()()()()()();\n      i0.ɵɵelementStart(48, \"div\", 31)(49, \"div\", 17)(50, \"div\", 32)(51, \"div\", 33)(52, \"div\", 34);\n      i0.ɵɵelement(53, \"span\", 35);\n      i0.ɵɵelementStart(54, \"input\", 36);\n      i0.ɵɵlistener(\"ngModelChange\", function VaultComponent_Template_input_ngModelChange_54_listener() {\n        return ctx.refresh();\n      })(\"ngModelChange\", function VaultComponent_Template_input_ngModelChange_54_listener($event) {\n        return ctx.search = $event;\n      });\n      i0.ɵɵelementEnd()()()()()();\n      i0.ɵɵelementStart(55, \"div\", 37)(56, \"div\", 17)(57, \"div\", 38)(58, \"div\", 33)(59, \"div\", 39, 40)(61, \"button\", 41);\n      i0.ɵɵtemplate(62, VaultComponent_img_62_Template, 2, 4, \"img\", 42);\n      i0.ɵɵtemplate(63, VaultComponent_img_63_Template, 1, 0, \"img\", 43);\n      i0.ɵɵelementStart(64, \"span\", 44);\n      i0.ɵɵtext(65);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(66, \"span\", 45);\n      i0.ɵɵelement(67, \"img\", 46);\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(68, \"ul\", 47)(69, \"li\")(70, \"a\", 48);\n      i0.ɵɵlistener(\"click\", function VaultComponent_Template_a_click_70_listener() {\n        ctx.activeFarm = \"Active farms\";\n        return ctx.refresh();\n      });\n      i0.ɵɵtext(71, \"Active farms\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵtemplate(72, VaultComponent_li_72_Template, 5, 7, \"li\", 49);\n      i0.ɵɵelementStart(73, \"li\")(74, \"a\", 48);\n      i0.ɵɵlistener(\"click\", function VaultComponent_Template_a_click_74_listener() {\n        ctx.activeFarm = \"Disabled farms\";\n        return ctx.refresh();\n      });\n      i0.ɵɵelement(75, \"i\", 50);\n      i0.ɵɵtext(76, \" Disabled farms\");\n      i0.ɵɵelementEnd()()()()()()()();\n      i0.ɵɵelementStart(77, \"div\", 37)(78, \"div\", 17)(79, \"div\", 51)(80, \"div\", 39, 52)(82, \"button\", 41);\n      i0.ɵɵelement(83, \"img\", 53);\n      i0.ɵɵelementStart(84, \"span\", 54);\n      i0.ɵɵtext(85, \"Sort by\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(86, \"span\", 45);\n      i0.ɵɵelement(87, \"img\", 46);\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(88, \"ul\", 47)(89, \"li\")(90, \"a\", 48);\n      i0.ɵɵlistener(\"click\", function VaultComponent_Template_a_click_90_listener() {\n        ctx.sortBy = \"multiplier\";\n        return ctx.refresh();\n      });\n      i0.ɵɵtext(91, \"Default\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(92, \"li\")(93, \"a\", 48);\n      i0.ɵɵlistener(\"click\", function VaultComponent_Template_a_click_93_listener() {\n        ctx.sortBy = \"apy\";\n        return ctx.refresh();\n      });\n      i0.ɵɵtext(94, \"APY%\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(95, \"li\")(96, \"a\", 48);\n      i0.ɵɵlistener(\"click\", function VaultComponent_Template_a_click_96_listener() {\n        ctx.sortBy = \"dpr\";\n        return ctx.refresh();\n      });\n      i0.ɵɵtext(97, \"DPR%\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(98, \"li\")(99, \"a\", 48);\n      i0.ɵɵlistener(\"click\", function VaultComponent_Template_a_click_99_listener() {\n        ctx.sortBy = \"tvl\";\n        return ctx.refresh();\n      });\n      i0.ɵɵtext(100, \"TVL\");\n      i0.ɵɵelementEnd()()()()()()()();\n      i0.ɵɵtemplate(101, VaultComponent_div_101_Template, 3, 0, \"div\", 55);\n      i0.ɵɵtemplate(102, VaultComponent_div_102_Template, 6, 2, \"div\", 56);\n      i0.ɵɵelementStart(103, \"div\", 57);\n      i0.ɵɵtemplate(104, VaultComponent_ng_container_104_Template, 3, 7, \"ng-container\", 58);\n      i0.ɵɵelementEnd()()();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(15);\n      i0.ɵɵproperty(\"value\", +(ctx.info.stat == null ? null : ctx.info.stat.tvl) / ctx.UNIT);\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"ngIf\", ctx.terrajs.isConnected);\n      i0.ɵɵadvance(12);\n      i0.ɵɵproperty(\"src\", ctx.isGrid ? \"../../../assets/Icon-grid-white.svg\" : \"../../../assets/Icon-grid-grey.svg\", i0.ɵɵsanitizeUrl);\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"src\", !ctx.isGrid ? \"../../../assets/Icon-list-white.svg\" : \"../../../assets/Icon-list-grey.svg\", i0.ɵɵsanitizeUrl);\n      i0.ɵɵadvance(5);\n      i0.ɵɵproperty(\"ngModel\", ctx.showDepositedPoolOnly);\n      i0.ɵɵadvance(8);\n      i0.ɵɵproperty(\"ngModel\", ctx.showDepositedPoolOnly);\n      i0.ɵɵadvance(8);\n      i0.ɵɵproperty(\"ngModel\", ctx.search);\n      i0.ɵɵadvance(5);\n      i0.ɵɵclassProp(\"active-border\", ctx.activeFarm !== ctx.defaultActiveFarm);\n      i0.ɵɵadvance(3);\n      i0.ɵɵproperty(\"ngIf\", ctx.activeFarm !== \"Active farms\" && ctx.activeFarm !== \"Disabled farms\");\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.activeFarm === \"Active farms\" || ctx.activeFarm === \"Disabled farms\");\n      i0.ɵɵadvance(2);\n      i0.ɵɵtextInterpolate(ctx.activeFarm);\n      i0.ɵɵadvance(5);\n      i0.ɵɵclassProp(\"active\", ctx.activeFarm === \"Active farms\");\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngForOf\", ctx.farmInfoDropdownList);\n      i0.ɵɵadvance(2);\n      i0.ɵɵclassProp(\"active\", ctx.activeFarm === \"Disabled farms\");\n      i0.ɵɵadvance(6);\n      i0.ɵɵclassProp(\"active-border\", ctx.sortBy !== \"multiplier\");\n      i0.ɵɵadvance(10);\n      i0.ɵɵclassProp(\"active\", ctx.sortBy === \"multiplier\");\n      i0.ɵɵadvance(3);\n      i0.ɵɵclassProp(\"active\", ctx.sortBy === \"apy\");\n      i0.ɵɵadvance(3);\n      i0.ɵɵclassProp(\"active\", ctx.sortBy === \"dpr\");\n      i0.ɵɵadvance(3);\n      i0.ɵɵclassProp(\"active\", ctx.sortBy === \"tvl\");\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngIf\", ctx.loading);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", !ctx.loading);\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngForOf\", ctx.vaults)(\"ngForTrackBy\", ctx.vaultId);\n    }\n  },\n  styles: [\".notice[_ngcontent-%COMP%]{width:80%;border-style:dashed!important;margin:0 auto}.farm-logo[_ngcontent-%COMP%]{font-size:1rem;text-align:center;height:auto;width:1.5rem}.search-bar[_ngcontent-%COMP%]::placeholder{color:#bdbdbd}.animate-up[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_mover 1s infinite alternate;padding:10px}.tvl-chevron-up[_ngcontent-%COMP%]{border-radius:6px;background-color:#181d23}@keyframes _ngcontent-%COMP%_mover{0%{transform:translateY(0)}to{transform:translateY(-.2em)}}.has-search[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{padding-left:2.375rem;border:0;max-height:31.5px}.has-search[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]:focus{border:none;outline:none;box-shadow:none;outline-style:none;background-color:transparent}.has-search[_ngcontent-%COMP%]   .form-control-feedback[_ngcontent-%COMP%]{position:absolute;z-index:2;display:block;width:2.375rem;height:2.375rem;line-height:2.375rem;text-align:center;pointer-events:none;color:#fff}.pd-7[_ngcontent-%COMP%]{padding:7px}.switch[_ngcontent-%COMP%]{position:relative;display:inline-block;width:60px;height:32px}.switch[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{opacity:0;width:0;height:0}.slider[_ngcontent-%COMP%]{position:absolute;cursor:pointer;inset:0;background-color:#5c6776;transition:.4s;border-radius:34px}.slider[_ngcontent-%COMP%]:before{position:absolute;content:\\\"\\\";height:26px;width:26px;left:4px;bottom:3px;background-color:#fff;transition:.4s;border-radius:50%}input[_ngcontent-%COMP%]:checked + .slider[_ngcontent-%COMP%]{background-color:#fc5185}input[_ngcontent-%COMP%]:focus + .slider[_ngcontent-%COMP%]{box-shadow:0 0 1px #fc5185}input[_ngcontent-%COMP%]:checked + .slider[_ngcontent-%COMP%]:before{transform:translate(26px)}.align-sub[_ngcontent-%COMP%]{vertical-align:sub;margin-right:10px}.terra-container[_ngcontent-%COMP%]{align-self:stretch;flex-grow:0;display:flex;flex-direction:row;justify-content:center;align-items:center;padding:15px;border-radius:6px;background-image:linear-gradient(289deg,#1121b8,#fc5185)}.text-dropdown[_ngcontent-%COMP%]{font-size:12px;font-weight:400}@media screen and (max-width: 1200px){.filter[_ngcontent-%COMP%]{display:none}}[_ngcontent-%COMP%]::placeholder{color:#fff9;font-size:12px;font-weight:400}@media screen and (max-width: 385px){.mobile-icon[_ngcontent-%COMP%]{position:absolute;top:10px;left:15px}}.dropdown[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{box-shadow:none;height:46px}.dropdown.active-border[_ngcontent-%COMP%]{border:1px solid #fc5185;border-radius:6px;height:44px}\"]\n});\n__decorate([debounce(250)], VaultComponent.prototype, \"refresh\", null);","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}