{"ast":null,"code":"\"use strict\";\n\nvar __extends = this && this.__extends || function () {\n  var extendStatics = function (d, b) {\n    extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p];\n    };\n    return extendStatics(d, b);\n  };\n  return function (d, b) {\n    if (typeof b !== \"function\" && b !== null) throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n    extendStatics(d, b);\n    function __() {\n      this.constructor = d;\n    }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\nvar __createBinding = this && this.__createBinding || (Object.create ? function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  var desc = Object.getOwnPropertyDescriptor(m, k);\n  if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n    desc = {\n      enumerable: true,\n      get: function () {\n        return m[k];\n      }\n    };\n  }\n  Object.defineProperty(o, k2, desc);\n} : function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  o[k2] = m[k];\n});\nvar __setModuleDefault = this && this.__setModuleDefault || (Object.create ? function (o, v) {\n  Object.defineProperty(o, \"default\", {\n    enumerable: true,\n    value: v\n  });\n} : function (o, v) {\n  o[\"default\"] = v;\n});\nvar __importStar = this && this.__importStar || function (mod) {\n  if (mod && mod.__esModule) return mod;\n  var result = {};\n  if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n  __setModuleDefault(result, mod);\n  return result;\n};\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.Proposal = void 0;\nvar Coins_1 = require(\"../Coins\");\nvar numeric_1 = require(\"../numeric\");\nvar json_1 = require(\"../../util/json\");\nvar proposals_1 = require(\"../distribution/proposals\");\nvar proposals_2 = require(\"../params/proposals\");\nvar proposals_3 = require(\"../ibc/proposals\");\nvar proposals_4 = require(\"./proposals\");\nvar proposals_5 = require(\"../upgrade/proposals\");\nvar proposals_6 = require(\"../wasm/proposals\");\nvar gov_1 = require(\"@terra-money/terra.proto/cosmos/gov/v1beta1/gov\");\nvar Long = __importStar(require(\"long\"));\n/**\n * Stores information pertaining to a submitted proposal, such as its status and time of\n * the voting period\n */\nvar Proposal = /** @class */function (_super) {\n  __extends(Proposal, _super);\n  /**\n   *\n   * @param id proposal's ID\n   * @param content content of the proposal\n   * @param status proposal's status\n   * @param final_tally_result tally result\n   * @param submit_time time proposal was submitted and deposit period started\n   * @param deposit_end_time time deposit period will end\n   * @param total_deposit amount of coins deposited by all users\n   * @param voting_start_time time voting period will start\n   * @param voting_end_time time voting period will end\n   */\n  function Proposal(id, content, status, final_tally_result, submit_time, deposit_end_time, total_deposit, voting_start_time, voting_end_time) {\n    var _this = _super.call(this) || this;\n    _this.id = id;\n    _this.content = content;\n    _this.status = status;\n    _this.final_tally_result = final_tally_result;\n    _this.submit_time = submit_time;\n    _this.deposit_end_time = deposit_end_time;\n    _this.total_deposit = total_deposit;\n    _this.voting_start_time = voting_start_time;\n    _this.voting_end_time = voting_end_time;\n    return _this;\n  }\n  Proposal.fromAmino = function (data, isClassic) {\n    var id = data.id,\n      content = data.content,\n      status = data.status,\n      final_tally_result = data.final_tally_result,\n      submit_time = data.submit_time,\n      deposit_end_time = data.deposit_end_time,\n      total_deposit = data.total_deposit,\n      voting_start_time = data.voting_start_time,\n      voting_end_time = data.voting_end_time;\n    return new Proposal(Number.parseInt(id), Proposal.Content.fromAmino(content, isClassic), status, {\n      yes: new numeric_1.Int(final_tally_result.yes || 0),\n      no: new numeric_1.Int(final_tally_result.no || 0),\n      abstain: new numeric_1.Int(final_tally_result.abstain || 0),\n      no_with_veto: new numeric_1.Int(final_tally_result.no_with_veto || 0)\n    }, new Date(submit_time), new Date(deposit_end_time), Coins_1.Coins.fromAmino(total_deposit), new Date(voting_start_time), new Date(voting_end_time));\n  };\n  Proposal.prototype.toAmino = function (isClassic) {\n    var _a = this,\n      status = _a.status,\n      final_tally_result = _a.final_tally_result;\n    return {\n      id: this.id.toFixed(),\n      content: this.content.toAmino(isClassic),\n      status: status,\n      final_tally_result: {\n        yes: final_tally_result.yes.toFixed(),\n        no: final_tally_result.no.toFixed(),\n        abstain: final_tally_result.abstain.toFixed(),\n        no_with_veto: final_tally_result.no_with_veto.toFixed()\n      },\n      submit_time: this.submit_time.toISOString(),\n      deposit_end_time: this.deposit_end_time.toISOString(),\n      total_deposit: this.total_deposit.toAmino(),\n      voting_start_time: this.voting_start_time.toISOString(),\n      voting_end_time: this.voting_end_time.toISOString()\n    };\n  };\n  Proposal.fromData = function (data, isClassic) {\n    var proposal_id = data.proposal_id,\n      content = data.content,\n      status = data.status,\n      final_tally_result = data.final_tally_result,\n      submit_time = data.submit_time,\n      deposit_end_time = data.deposit_end_time,\n      total_deposit = data.total_deposit,\n      voting_start_time = data.voting_start_time,\n      voting_end_time = data.voting_end_time;\n    return new Proposal(Number.parseInt(proposal_id), Proposal.Content.fromData(content, isClassic), (0, gov_1.proposalStatusFromJSON)(status), {\n      yes: new numeric_1.Int((final_tally_result === null || final_tally_result === void 0 ? void 0 : final_tally_result.yes) || 0),\n      no: new numeric_1.Int((final_tally_result === null || final_tally_result === void 0 ? void 0 : final_tally_result.no) || 0),\n      abstain: new numeric_1.Int((final_tally_result === null || final_tally_result === void 0 ? void 0 : final_tally_result.abstain) || 0),\n      no_with_veto: new numeric_1.Int((final_tally_result === null || final_tally_result === void 0 ? void 0 : final_tally_result.no_with_veto) || 0)\n    }, new Date(submit_time), new Date(deposit_end_time), Coins_1.Coins.fromData(total_deposit), new Date(voting_start_time), new Date(voting_end_time));\n  };\n  Proposal.prototype.toData = function (isClassic) {\n    var _a = this,\n      status = _a.status,\n      final_tally_result = _a.final_tally_result;\n    return {\n      proposal_id: this.id.toFixed(),\n      content: this.content.toData(isClassic),\n      status: (0, gov_1.proposalStatusToJSON)(status),\n      final_tally_result: {\n        yes: final_tally_result.yes.toString(),\n        no: final_tally_result.no.toString(),\n        abstain: final_tally_result.abstain.toString(),\n        no_with_veto: final_tally_result.no_with_veto.toString()\n      },\n      submit_time: this.submit_time.toISOString(),\n      deposit_end_time: this.deposit_end_time.toISOString(),\n      total_deposit: this.total_deposit.toData(),\n      voting_start_time: this.voting_start_time.toISOString(),\n      voting_end_time: this.voting_end_time.toISOString()\n    };\n  };\n  Proposal.fromProto = function (data, isClassic) {\n    var id = data.proposalId;\n    var content = data.content;\n    var status = data.status;\n    var final_tally_result = data.finalTallyResult;\n    var submit_time = data.submitTime;\n    var deposit_end_time = data.depositEndTime;\n    var total_deposit = data.totalDeposit;\n    var voting_start_time = data.votingStartTime;\n    var voting_end_time = data.votingEndTime;\n    return new Proposal(id.toNumber(), Proposal.Content.fromProto(content, isClassic), status, {\n      yes: new numeric_1.Int((final_tally_result === null || final_tally_result === void 0 ? void 0 : final_tally_result.yes) || 0),\n      no: new numeric_1.Int((final_tally_result === null || final_tally_result === void 0 ? void 0 : final_tally_result.no) || 0),\n      abstain: new numeric_1.Int((final_tally_result === null || final_tally_result === void 0 ? void 0 : final_tally_result.abstain) || 0),\n      no_with_veto: new numeric_1.Int((final_tally_result === null || final_tally_result === void 0 ? void 0 : final_tally_result.noWithVeto) || 0)\n    }, submit_time, deposit_end_time, Coins_1.Coins.fromProto(total_deposit), voting_start_time, voting_end_time);\n  };\n  Proposal.prototype.toProto = function (isClassic) {\n    var _a = this,\n      status = _a.status,\n      final_tally_result = _a.final_tally_result;\n    var ftr;\n    if (final_tally_result) {\n      ftr = gov_1.TallyResult.fromPartial({\n        yes: final_tally_result.yes.toString(),\n        no: final_tally_result.no.toString(),\n        abstain: final_tally_result.abstain.toString(),\n        noWithVeto: final_tally_result.no_with_veto.toString()\n      });\n    }\n    return gov_1.Proposal.fromPartial({\n      proposalId: Long.fromNumber(this.id),\n      content: this.content.packAny(isClassic),\n      status: status,\n      finalTallyResult: ftr,\n      submitTime: this.submit_time,\n      depositEndTime: this.deposit_end_time,\n      totalDeposit: this.total_deposit.toProto(),\n      votingEndTime: this.voting_end_time,\n      votingStartTime: this.voting_start_time\n    });\n  };\n  return Proposal;\n}(json_1.JSONSerializable);\nexports.Proposal = Proposal;\n(function (Proposal) {\n  Proposal.Status = gov_1.ProposalStatus;\n  var Content;\n  (function (Content) {\n    function fromAmino(amino, isClassic) {\n      switch (amino.type) {\n        case 'gov/TextProposal':\n        case 'cosmos-sdk/TextProposal':\n          return proposals_4.TextProposal.fromAmino(amino, isClassic);\n        case 'distribution/CommunityPoolSpendProposal':\n        case 'cosmos-sdk/CommunityPoolSpendProposal':\n          return proposals_1.CommunityPoolSpendProposal.fromAmino(amino, isClassic);\n        case 'params/ParameterChangeProposal':\n        case 'cosmos-sdk/ParameterChangeProposal':\n          return proposals_2.ParameterChangeProposal.fromAmino(amino, isClassic);\n        case 'upgrade/SoftwareUpgradeProposal':\n        case 'cosmos-sdk/SoftwareUpgradeProposal':\n          return proposals_5.SoftwareUpgradeProposal.fromAmino(amino, isClassic);\n        case 'upgrade/CancelSoftwareUpgradeProposal':\n        case 'cosmos-sdk/CancelSoftwareUpgradeProposal':\n          return proposals_5.CancelSoftwareUpgradeProposal.fromAmino(amino, isClassic);\n        case 'ibc/ClientUpdateProposal':\n          return proposals_3.ClientUpdateProposal.fromAmino(amino, isClassic);\n        case 'wasm/ClearAdminProposal':\n          return proposals_6.ClearAdminProposal.fromAmino(amino, isClassic);\n        case 'wasm/ExecuteContractProposal':\n          return proposals_6.ExecuteContractProposal.fromAmino(amino, isClassic);\n        case 'wasm/InstantiateContractProposal':\n          return proposals_6.InstantiateContractProposal.fromAmino(amino, isClassic);\n        case 'wasm/MigrateContractProposal':\n          return proposals_6.MigrateContractProposal.fromAmino(amino, isClassic);\n        case 'wasm/PinCodesProposal':\n          return proposals_6.PinCodesProposal.fromAmino(amino, isClassic);\n        case 'wasm/StoreCodeProposal':\n          return proposals_6.StoreCodeProposal.fromAmino(amino, isClassic);\n        case 'wasm/SudoContractProposal':\n          return proposals_6.SudoContractProposal.fromAmino(amino, isClassic);\n        case 'wasm/UnpinCodesProposal':\n          return proposals_6.UnpinCodesProposal.fromAmino(amino, isClassic);\n        case 'wasm/UpdateAdminProposal':\n          return proposals_6.UpdateAdminProposal.fromAmino(amino, isClassic);\n        case 'wasm/UpdateInstantiateConfigProposal':\n          return proposals_6.UpdateInstantiateConfigProposal.fromAmino(amino, isClassic);\n      }\n    }\n    Content.fromAmino = fromAmino;\n    function fromData(data, isClassic) {\n      switch (data['@type']) {\n        case '/cosmos.gov.v1beta1.TextProposal':\n          return proposals_4.TextProposal.fromData(data, isClassic);\n        case '/cosmos.distribution.v1beta1.CommunityPoolSpendProposal':\n          return proposals_1.CommunityPoolSpendProposal.fromData(data, isClassic);\n        case '/cosmos.params.v1beta1.ParameterChangeProposal':\n          return proposals_2.ParameterChangeProposal.fromData(data, isClassic);\n        case '/cosmos.upgrade.v1beta1.SoftwareUpgradeProposal':\n          return proposals_5.SoftwareUpgradeProposal.fromData(data, isClassic);\n        case '/cosmos.upgrade.v1beta1.CancelSoftwareUpgradeProposal':\n          return proposals_5.CancelSoftwareUpgradeProposal.fromData(data, isClassic);\n        case '/ibc.core.client.v1.ClientUpdateProposal':\n          return proposals_3.ClientUpdateProposal.fromData(data, isClassic);\n        case '/cosmwasm.wasm.v1.ClearAdminProposal':\n          return proposals_6.ClearAdminProposal.fromData(data, isClassic);\n        case '/cosmwasm.wasm.v1.ExecuteContractProposal':\n          return proposals_6.ExecuteContractProposal.fromData(data, isClassic);\n        case '/cosmwasm.wasm.v1.InstantiateContractProposal':\n          return proposals_6.InstantiateContractProposal.fromData(data, isClassic);\n        case '/cosmwasm.wasm.v1.MigrateContractProposal':\n          return proposals_6.MigrateContractProposal.fromData(data, isClassic);\n        case '/cosmwasm.wasm.v1.PinCodesProposal':\n          return proposals_6.PinCodesProposal.fromData(data, isClassic);\n        case '/cosmwasm.wasm.v1.StoreCodeProposal':\n          return proposals_6.StoreCodeProposal.fromData(data, isClassic);\n        case '/cosmwasm.wasm.v1.SudoContractProposal':\n          return proposals_6.SudoContractProposal.fromData(data, isClassic);\n        case '/cosmwasm.wasm.v1.UnpinCodesProposal':\n          return proposals_6.UnpinCodesProposal.fromData(data, isClassic);\n        case '/cosmwasm.wasm.v1.UpdateAdminProposal':\n          return proposals_6.UpdateAdminProposal.fromData(data, isClassic);\n        case '/cosmwasm.wasm.v1.UpdateInstantiateConfigProposal':\n          return proposals_6.UpdateInstantiateConfigProposal.fromData(data, isClassic);\n      }\n    }\n    Content.fromData = fromData;\n    function fromProto(anyProto, isClassic) {\n      var typeUrl = anyProto.typeUrl;\n      switch (typeUrl) {\n        case '/cosmos.gov.v1beta1.TextProposal':\n          return proposals_4.TextProposal.unpackAny(anyProto, isClassic);\n        case '/cosmos.distribution.v1beta1.CommunityPoolSpendProposal':\n          return proposals_1.CommunityPoolSpendProposal.unpackAny(anyProto, isClassic);\n        case '/cosmos.params.v1beta1.ParameterChangeProposal':\n          return proposals_2.ParameterChangeProposal.unpackAny(anyProto, isClassic);\n        case '/cosmos.upgrade.v1beta1.SoftwareUpgradeProposal':\n          return proposals_5.SoftwareUpgradeProposal.unpackAny(anyProto, isClassic);\n        case '/cosmos.upgrade.v1beta1.CancelSoftwareUpgradeProposal':\n          return proposals_5.CancelSoftwareUpgradeProposal.unpackAny(anyProto, isClassic);\n        case '/ibc.core.client.v1.ClientUpdateProposal':\n          return proposals_3.ClientUpdateProposal.unpackAny(anyProto, isClassic);\n        case '/cosmwasm.wasm.v1.ClearAdminProposal':\n          return proposals_6.ClearAdminProposal.unpackAny(anyProto, isClassic);\n        case '/cosmwasm.wasm.v1.ExecuteContractProposal':\n          return proposals_6.ExecuteContractProposal.unpackAny(anyProto, isClassic);\n        case '/cosmwasm.wasm.v1.InstantiateContractProposal':\n          return proposals_6.InstantiateContractProposal.unpackAny(anyProto, isClassic);\n        case '/cosmwasm.wasm.v1.MigrateContractProposal':\n          return proposals_6.MigrateContractProposal.unpackAny(anyProto, isClassic);\n        case '/cosmwasm.wasm.v1.PinCodesProposal':\n          return proposals_6.PinCodesProposal.unpackAny(anyProto, isClassic);\n        case '/cosmwasm.wasm.v1.StoreCodeProposal':\n          return proposals_6.StoreCodeProposal.unpackAny(anyProto, isClassic);\n        case '/cosmwasm.wasm.v1.SudoContractProposal':\n          return proposals_6.SudoContractProposal.unpackAny(anyProto, isClassic);\n        case '/cosmwasm.wasm.v1.UnpinCodesProposal':\n          return proposals_6.UnpinCodesProposal.unpackAny(anyProto, isClassic);\n        case '/cosmwasm.wasm.v1.UpdateAdminProposal':\n          return proposals_6.UpdateAdminProposal.unpackAny(anyProto, isClassic);\n        case '/cosmwasm.wasm.v1.UpdateInstantiateConfigProposal':\n          return proposals_6.UpdateInstantiateConfigProposal.unpackAny(anyProto, isClassic);\n      }\n      throw \"Proposal content \".concat(typeUrl, \" not recognized\");\n    }\n    Content.fromProto = fromProto;\n  })(Content = Proposal.Content || (Proposal.Content = {}));\n})(Proposal = exports.Proposal || (exports.Proposal = {}));\nexports.Proposal = Proposal;\n//# sourceMappingURL=Proposal.js.map","map":null,"metadata":{},"sourceType":"script","externalDependencies":[]}