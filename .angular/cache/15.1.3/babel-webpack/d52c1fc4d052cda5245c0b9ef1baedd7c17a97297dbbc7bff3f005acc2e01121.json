{"ast":null,"code":"\"use strict\";\n\nvar __extends = this && this.__extends || function () {\n  var extendStatics = function (d, b) {\n    extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p];\n    };\n    return extendStatics(d, b);\n  };\n  return function (d, b) {\n    if (typeof b !== \"function\" && b !== null) throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n    extendStatics(d, b);\n    function __() {\n      this.constructor = d;\n    }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\nvar __createBinding = this && this.__createBinding || (Object.create ? function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  var desc = Object.getOwnPropertyDescriptor(m, k);\n  if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n    desc = {\n      enumerable: true,\n      get: function () {\n        return m[k];\n      }\n    };\n  }\n  Object.defineProperty(o, k2, desc);\n} : function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  o[k2] = m[k];\n});\nvar __setModuleDefault = this && this.__setModuleDefault || (Object.create ? function (o, v) {\n  Object.defineProperty(o, \"default\", {\n    enumerable: true,\n    value: v\n  });\n} : function (o, v) {\n  o[\"default\"] = v;\n});\nvar __importStar = this && this.__importStar || function (mod) {\n  if (mod && mod.__esModule) return mod;\n  var result = {};\n  if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n  __setModuleDefault(result, mod);\n  return result;\n};\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.MsgTransfer = void 0;\nvar json_1 = require(\"../../../../../../util/json\");\nvar Coin_1 = require(\"../../../../../Coin\");\nvar Long = __importStar(require(\"long\"));\nvar any_1 = require(\"@terra-money/terra.proto/google/protobuf/any\");\nvar tx_1 = require(\"@terra-money/terra.proto/ibc/applications/transfer/v1/tx\");\nvar Height_1 = require(\"../../../../core/client/Height\");\nvar numeric_1 = require(\"../../../../../numeric\");\n/**\n * A basic message for transfer [[Coin]] via IBC.\n */\nvar MsgTransfer = /** @class */function (_super) {\n  __extends(MsgTransfer, _super);\n  /**\n   * @param source_port the port on which the packet will be sent\n   * @param source_channel  the channel by which the packet will be sent\n   * @param token the tokens to be transferred\n   * @param sender the sender address\n   * @param receiver the recipient address on the destination chain\n   * @param timeout_height Timeout height relative to the current block height. (0 to disable)\n   * @param timeout_timestamp Timeout timestamp (in nanoseconds) relative to the current block timestamp. (0 to disable)\n   */\n  function MsgTransfer(source_port, source_channel, token, sender, receiver, timeout_height, timeout_timestamp) {\n    var _this = _super.call(this) || this;\n    if (!timeout_height && !timeout_timestamp) {\n      throw 'both of timeout_height and timeout_timestamp are undefined';\n    }\n    _this.source_port = source_port;\n    _this.source_channel = source_channel;\n    _this.token = token;\n    _this.sender = sender;\n    _this.receiver = receiver;\n    _this.timeout_height = timeout_height;\n    _this.timeout_timestamp = timeout_timestamp ? numeric_1.Numeric.parse(timeout_timestamp) : undefined;\n    return _this;\n  }\n  MsgTransfer.fromAmino = function (data, _) {\n    _;\n    var _a = data.value,\n      source_port = _a.source_port,\n      source_channel = _a.source_channel,\n      token = _a.token,\n      sender = _a.sender,\n      receiver = _a.receiver,\n      timeout_height = _a.timeout_height,\n      timeout_timestamp = _a.timeout_timestamp;\n    if (!timeout_height && !timeout_timestamp) {\n      throw 'both of timeout_height and timeout_timestamp are undefined';\n    }\n    return new MsgTransfer(source_port, source_channel, token ? Coin_1.Coin.fromAmino(token) : undefined, sender, receiver, timeout_height ? Height_1.Height.fromAmino(timeout_height) : undefined, timeout_timestamp ? numeric_1.Numeric.parse(timeout_timestamp) : undefined);\n  };\n  MsgTransfer.prototype.toAmino = function (_) {\n    _;\n    var _a = this,\n      source_port = _a.source_port,\n      source_channel = _a.source_channel,\n      token = _a.token,\n      sender = _a.sender,\n      receiver = _a.receiver,\n      timeout_height = _a.timeout_height,\n      timeout_timestamp = _a.timeout_timestamp;\n    return {\n      type: 'cosmos-sdk/MsgTransfer',\n      value: {\n        source_port: source_port,\n        source_channel: source_channel,\n        token: token ? token.toAmino() : undefined,\n        sender: sender,\n        receiver: receiver,\n        timeout_height: (timeout_height === null || timeout_height === void 0 ? void 0 : timeout_height.toAmino()) || {},\n        timeout_timestamp: (timeout_timestamp === null || timeout_timestamp === void 0 ? void 0 : timeout_timestamp.toFixed()) || undefined\n      }\n    };\n  };\n  MsgTransfer.fromData = function (data, _) {\n    _;\n    var source_port = data.source_port,\n      source_channel = data.source_channel,\n      token = data.token,\n      sender = data.sender,\n      receiver = data.receiver,\n      timeout_timestamp = data.timeout_timestamp,\n      timeout_height = data.timeout_height;\n    if (!timeout_height && !timeout_timestamp) {\n      throw 'both of timeout_height and timeout_timestamp are undefined';\n    }\n    return new MsgTransfer(source_port, source_channel, token ? Coin_1.Coin.fromData(token) : undefined, sender, receiver, timeout_height ? Height_1.Height.fromData(timeout_height) : undefined, timeout_timestamp ? Number.parseInt(timeout_timestamp) : undefined);\n  };\n  MsgTransfer.prototype.toData = function (_) {\n    _;\n    var _a = this,\n      source_port = _a.source_port,\n      source_channel = _a.source_channel,\n      token = _a.token,\n      sender = _a.sender,\n      receiver = _a.receiver,\n      timeout_height = _a.timeout_height,\n      timeout_timestamp = _a.timeout_timestamp;\n    return {\n      '@type': '/ibc.applications.transfer.v1.MsgTransfer',\n      source_port: source_port,\n      source_channel: source_channel,\n      token: token ? token.toData() : undefined,\n      sender: sender,\n      receiver: receiver,\n      timeout_height: timeout_height ? timeout_height.toData() : new Height_1.Height(0, 0).toData(),\n      timeout_timestamp: (timeout_timestamp === null || timeout_timestamp === void 0 ? void 0 : timeout_timestamp.toFixed()) || '0'\n    };\n  };\n  MsgTransfer.fromProto = function (proto, _) {\n    _;\n    if (!proto.timeoutHeight && proto.timeoutTimestamp.toNumber() == 0) {\n      throw 'both of timeout_height and timeout_timestamp are empty';\n    }\n    return new MsgTransfer(proto.sourcePort, proto.sourceChannel, proto.token ? Coin_1.Coin.fromProto(proto.token) : undefined, proto.sender, proto.receiver, proto.timeoutHeight ? Height_1.Height.fromProto(proto.timeoutHeight) : undefined, proto.timeoutTimestamp.toNumber());\n  };\n  MsgTransfer.prototype.toProto = function (_) {\n    _;\n    var _a = this,\n      source_port = _a.source_port,\n      source_channel = _a.source_channel,\n      token = _a.token,\n      sender = _a.sender,\n      receiver = _a.receiver,\n      timeout_height = _a.timeout_height,\n      timeout_timestamp = _a.timeout_timestamp;\n    return tx_1.MsgTransfer.fromPartial({\n      sourcePort: source_port,\n      sourceChannel: source_channel,\n      token: token ? token.toProto() : undefined,\n      sender: sender,\n      receiver: receiver,\n      timeoutHeight: timeout_height ? timeout_height.toProto() : undefined,\n      timeoutTimestamp: Long.fromString((timeout_timestamp === null || timeout_timestamp === void 0 ? void 0 : timeout_timestamp.toFixed()) || '0')\n    });\n  };\n  MsgTransfer.prototype.packAny = function (isClassic) {\n    return any_1.Any.fromPartial({\n      typeUrl: '/ibc.applications.transfer.v1.MsgTransfer',\n      value: tx_1.MsgTransfer.encode(this.toProto(isClassic)).finish()\n    });\n  };\n  MsgTransfer.unpackAny = function (msgAny, isClassic) {\n    return MsgTransfer.fromProto(tx_1.MsgTransfer.decode(msgAny.value), isClassic);\n  };\n  return MsgTransfer;\n}(json_1.JSONSerializable);\nexports.MsgTransfer = MsgTransfer;\n//# sourceMappingURL=MsgTransfer.js.map","map":null,"metadata":{},"sourceType":"script","externalDependencies":[]}