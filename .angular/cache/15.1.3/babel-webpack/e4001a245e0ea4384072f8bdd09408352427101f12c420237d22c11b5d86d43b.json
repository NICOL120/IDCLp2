{"ast":null,"code":"\"use strict\";\n\nvar __extends = this && this.__extends || function () {\n  var extendStatics = function (d, b) {\n    extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p];\n    };\n    return extendStatics(d, b);\n  };\n  return function (d, b) {\n    if (typeof b !== \"function\" && b !== null) throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n    extendStatics(d, b);\n    function __() {\n      this.constructor = d;\n    }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\nvar __createBinding = this && this.__createBinding || (Object.create ? function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  var desc = Object.getOwnPropertyDescriptor(m, k);\n  if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n    desc = {\n      enumerable: true,\n      get: function () {\n        return m[k];\n      }\n    };\n  }\n  Object.defineProperty(o, k2, desc);\n} : function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  o[k2] = m[k];\n});\nvar __setModuleDefault = this && this.__setModuleDefault || (Object.create ? function (o, v) {\n  Object.defineProperty(o, \"default\", {\n    enumerable: true,\n    value: v\n  });\n} : function (o, v) {\n  o[\"default\"] = v;\n});\nvar __importStar = this && this.__importStar || function (mod) {\n  if (mod && mod.__esModule) return mod;\n  var result = {};\n  if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n  __setModuleDefault(result, mod);\n  return result;\n};\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.Validator = void 0;\nvar json_1 = require(\"../../util/json\");\nvar numeric_1 = require(\"../numeric\");\nvar PublicKey_1 = require(\"../PublicKey\");\nvar staking_1 = require(\"@terra-money/terra.proto/cosmos/staking/v1beta1/staking\");\nvar Long = __importStar(require(\"long\"));\n/**\n * Stores information fetched from the blockchain about the current status of a validator.\n * As an end user, you will not have to create an instance of this class, one will be\n * generated for you to store information about a validator polled from the API functions\n * in [[StakingAPI]].\n */\nvar Validator = /** @class */function (_super) {\n  __extends(Validator, _super);\n  /**\n   *\n   * @param operator_address validator's operator address\n   * @param consensus_pubkey validator's consensus public key\n   * @param jailed whether the current validator is jailed\n   * @param status unbonded `0`, unbonding `1`, bonded `2`\n   * @param tokens total Luna from all delegations (including self)\n   * @param delegator_shares total shares of all delegators\n   * @param description validator's delegate description\n   * @param unbonding_height if unbonding, height at which this validator began unbonding\n   * @param unbonding_time if unbonding, min time for the validator to complete unbonding\n   * @param commission validator commission\n   * @param min_self_delegation minimum self delegation\n   */\n  function Validator(operator_address, consensus_pubkey, jailed, status, tokens, delegator_shares, description, unbonding_height, unbonding_time, commission, min_self_delegation) {\n    var _this = _super.call(this) || this;\n    _this.operator_address = operator_address;\n    _this.consensus_pubkey = consensus_pubkey;\n    _this.jailed = jailed;\n    _this.status = status;\n    _this.tokens = tokens;\n    _this.delegator_shares = delegator_shares;\n    _this.description = description;\n    _this.unbonding_height = unbonding_height;\n    _this.unbonding_time = unbonding_time;\n    _this.commission = commission;\n    _this.min_self_delegation = min_self_delegation;\n    return _this;\n  }\n  Validator.prototype.toAmino = function () {\n    return {\n      operator_address: this.operator_address,\n      consensus_pubkey: this.consensus_pubkey.toAmino(),\n      jailed: this.jailed,\n      status: this.status,\n      tokens: this.tokens.toString(),\n      delegator_shares: this.delegator_shares.toString(),\n      description: this.description,\n      unbonding_height: this.unbonding_height.toFixed(),\n      unbonding_time: this.unbonding_time.toISOString(),\n      commission: this.commission.toAmino(),\n      min_self_delegation: this.min_self_delegation.toString()\n    };\n  };\n  Validator.fromAmino = function (data) {\n    return new Validator(data.operator_address, PublicKey_1.ValConsPublicKey.fromAmino(data.consensus_pubkey), data.jailed || false, data.status || 0, new numeric_1.Int(data.tokens), new numeric_1.Dec(data.delegator_shares), Validator.Description.fromAmino(data.description), Number.parseInt(data.unbonding_height), new Date(data.unbonding_time), Validator.Commission.fromAmino(data.commission), new numeric_1.Int(data.min_self_delegation));\n  };\n  Validator.prototype.toData = function () {\n    return {\n      operator_address: this.operator_address,\n      consensus_pubkey: this.consensus_pubkey.toData(),\n      jailed: this.jailed,\n      status: this.status,\n      tokens: this.tokens.toString(),\n      delegator_shares: this.delegator_shares.toString(),\n      description: this.description,\n      unbonding_height: this.unbonding_height.toFixed(),\n      unbonding_time: this.unbonding_time.toISOString(),\n      commission: this.commission.toData(),\n      min_self_delegation: this.min_self_delegation.toString()\n    };\n  };\n  Validator.fromData = function (data) {\n    return new Validator(data.operator_address, PublicKey_1.ValConsPublicKey.fromData(data.consensus_pubkey), data.jailed || false, data.status || 0, new numeric_1.Int(data.tokens), new numeric_1.Dec(data.delegator_shares), Validator.Description.fromData(data.description), Number.parseInt(data.unbonding_height), new Date(data.unbonding_time), Validator.Commission.fromData(data.commission), new numeric_1.Int(data.min_self_delegation));\n  };\n  Validator.prototype.toProto = function () {\n    var _a = this,\n      operator_address = _a.operator_address,\n      consensus_pubkey = _a.consensus_pubkey,\n      jailed = _a.jailed,\n      status = _a.status,\n      tokens = _a.tokens,\n      delegator_shares = _a.delegator_shares,\n      description = _a.description,\n      unbonding_height = _a.unbonding_height,\n      unbonding_time = _a.unbonding_time,\n      commission = _a.commission,\n      min_self_delegation = _a.min_self_delegation;\n    return staking_1.Validator.fromPartial({\n      commission: commission.toProto(),\n      consensusPubkey: consensus_pubkey.packAny(),\n      delegatorShares: delegator_shares.toString(),\n      description: description.toProto(),\n      jailed: jailed,\n      minSelfDelegation: min_self_delegation.toString(),\n      operatorAddress: operator_address,\n      status: status,\n      tokens: tokens.toString(),\n      unbondingHeight: Long.fromNumber(unbonding_height),\n      unbondingTime: unbonding_time\n    });\n  };\n  Validator.fromProto = function (data) {\n    return new Validator(data.operatorAddress, PublicKey_1.ValConsPublicKey.unpackAny(data.consensusPubkey), data.jailed, data.status, new numeric_1.Int(data.tokens), new numeric_1.Dec(data.delegatorShares), Validator.Description.fromProto(data.description), data.unbondingHeight.toNumber(), data.unbondingTime, Validator.Commission.fromProto(data.commission), new numeric_1.Int(data.minSelfDelegation));\n  };\n  return Validator;\n}(json_1.JSONSerializable);\nexports.Validator = Validator;\n(function (Validator) {\n  Validator.Status = staking_1.BondStatus;\n  var Description = /** @class */function (_super) {\n    __extends(Description, _super);\n    /**\n     * @param moniker Identifying name, e.g. \"Hashed\"\n     * @param identity time at which commission was last updated\n     * @param website validator's website\n     * @param details long description\n     * @param security_contact validator's contact\n     */\n    function Description(moniker, identity, website, details, security_contact) {\n      var _this = _super.call(this) || this;\n      _this.moniker = moniker;\n      _this.identity = identity;\n      _this.website = website;\n      _this.details = details;\n      _this.security_contact = security_contact;\n      return _this;\n    }\n    Description.prototype.toAmino = function () {\n      return {\n        moniker: this.moniker,\n        identity: this.identity,\n        website: this.website,\n        details: this.details,\n        security_contact: this.security_contact\n      };\n    };\n    Description.fromAmino = function (data) {\n      return new Description(data.moniker, data.identity || '', data.website || '', data.details || '', data.security_contact || '');\n    };\n    Description.prototype.toData = function () {\n      return {\n        moniker: this.moniker,\n        identity: this.identity,\n        website: this.website,\n        details: this.details,\n        security_contact: this.security_contact\n      };\n    };\n    Description.fromData = function (data) {\n      return new Description(data.moniker, data.identity || '', data.website || '', data.details || '', data.security_contact || '');\n    };\n    Description.prototype.toProto = function () {\n      var _a = this,\n        moniker = _a.moniker,\n        identity = _a.identity,\n        website = _a.website,\n        details = _a.details,\n        security_contact = _a.security_contact;\n      return staking_1.Description.fromPartial({\n        details: details,\n        identity: identity,\n        moniker: moniker,\n        securityContact: security_contact,\n        website: website\n      });\n    };\n    Description.fromProto = function (proto) {\n      return new Description(proto.moniker, proto.identity, proto.website, proto.details, proto.securityContact);\n    };\n    return Description;\n  }(json_1.JSONSerializable);\n  Validator.Description = Description;\n  var CommissionRates = /** @class */function (_super) {\n    __extends(CommissionRates, _super);\n    /**\n     * @param rate current commission rate\n     * @param max_rate max commission rate\n     * @param max_change_rate max percentage commission can change in 24hrs\n     */\n    function CommissionRates(rate, max_rate, max_change_rate) {\n      var _this = _super.call(this) || this;\n      _this.rate = rate;\n      _this.max_rate = max_rate;\n      _this.max_change_rate = max_change_rate;\n      return _this;\n    }\n    CommissionRates.fromAmino = function (data) {\n      var rate = data.rate,\n        max_rate = data.max_rate,\n        max_change_rate = data.max_change_rate;\n      return new CommissionRates(new numeric_1.Dec(rate), new numeric_1.Dec(max_rate), new numeric_1.Dec(max_change_rate));\n    };\n    CommissionRates.prototype.toAmino = function () {\n      var _a = this,\n        rate = _a.rate,\n        max_rate = _a.max_rate,\n        max_change_rate = _a.max_change_rate;\n      return {\n        rate: rate.toString(),\n        max_rate: max_rate.toString(),\n        max_change_rate: max_change_rate.toString()\n      };\n    };\n    CommissionRates.fromData = function (data) {\n      var rate = data.rate,\n        max_rate = data.max_rate,\n        max_change_rate = data.max_change_rate;\n      return new CommissionRates(new numeric_1.Dec(rate), new numeric_1.Dec(max_rate), new numeric_1.Dec(max_change_rate));\n    };\n    CommissionRates.prototype.toData = function () {\n      var _a = this,\n        rate = _a.rate,\n        max_rate = _a.max_rate,\n        max_change_rate = _a.max_change_rate;\n      return {\n        rate: rate.toString(),\n        max_rate: max_rate.toString(),\n        max_change_rate: max_change_rate.toString()\n      };\n    };\n    CommissionRates.fromProto = function (proto) {\n      return new CommissionRates(new numeric_1.Dec(proto.rate), new numeric_1.Dec(proto.maxRate), new numeric_1.Dec(proto.maxChangeRate));\n    };\n    CommissionRates.prototype.toProto = function () {\n      var _a = this,\n        rate = _a.rate,\n        max_rate = _a.max_rate,\n        max_change_rate = _a.max_change_rate;\n      return staking_1.CommissionRates.fromPartial({\n        maxChangeRate: max_change_rate.toString(),\n        maxRate: max_rate.toString(),\n        rate: rate.toString()\n      });\n    };\n    return CommissionRates;\n  }(json_1.JSONSerializable);\n  Validator.CommissionRates = CommissionRates;\n  var Commission = /** @class */function (_super) {\n    __extends(Commission, _super);\n    /**\n     * @param commission_rates commission rates\n     * @param update_time time at which commission was last updated\n     */\n    function Commission(commission_rates, update_time) {\n      var _this = _super.call(this) || this;\n      _this.commission_rates = commission_rates;\n      _this.update_time = update_time;\n      return _this;\n    }\n    Commission.prototype.toAmino = function () {\n      return {\n        commission_rates: this.commission_rates.toAmino(),\n        update_time: this.update_time.toISOString()\n      };\n    };\n    Commission.fromAmino = function (data) {\n      return new Commission(CommissionRates.fromAmino(data.commission_rates), new Date(data.update_time));\n    };\n    Commission.prototype.toData = function () {\n      return {\n        commission_rates: this.commission_rates.toData(),\n        update_time: this.update_time.toISOString()\n      };\n    };\n    Commission.fromData = function (data) {\n      return new Commission(CommissionRates.fromData(data.commission_rates), new Date(data.update_time));\n    };\n    Commission.prototype.toProto = function () {\n      var _a = this,\n        commission_rates = _a.commission_rates,\n        update_time = _a.update_time;\n      return staking_1.Commission.fromPartial({\n        commissionRates: commission_rates.toProto(),\n        updateTime: update_time\n      });\n    };\n    Commission.fromProto = function (proto) {\n      return new Commission(CommissionRates.fromProto(proto.commissionRates), proto.updateTime);\n    };\n    return Commission;\n  }(json_1.JSONSerializable);\n  Validator.Commission = Commission;\n})(Validator = exports.Validator || (exports.Validator = {}));\nexports.Validator = Validator;\n//# sourceMappingURL=Validator.js.map","map":null,"metadata":{},"sourceType":"script","externalDependencies":[]}